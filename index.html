<!DOCTYPE html>
<html>
<head>
    <title>必应壁纸API</title>
</head>
<body>
    <script>
// 实现一个随机获取必应壁纸的 API

// 引入 cors 模块
const cors = require('cors');

// 设置跨域
app.use(cors());

// 设计 API
app.get('/api/getBingWallpaper', (req, res) => {
    // 请求必应接口，获取必应壁纸
    // 这里使用 axios 库发起请求
    axios.get('http://www.bing.com/HPImageArchive.aspx?format=js&idx=0&n=1')
        .then(response => {
            // 获取到壁纸的 URL
            let wallpaperUrl = response.data.images[0].url;
            // 拼接完整的 URL
            wallpaperUrl = `https://www.bing.com${wallpaperUrl}`;
            // 返回壁纸的 URL
            res.send({
                status: 200,
                wallpaperUrl
            });
        })
        .catch(err => {
            // 如果请求发生错误，返回错误信息
            res.send({
                status: 500,
                msg: '获取壁纸失败！'
            });
        });
});
    </script>
</body>
</html>
